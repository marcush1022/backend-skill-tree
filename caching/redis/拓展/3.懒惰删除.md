# **懒惰删除**

- 一直以来我们认为 Redis 是单线程的，单线程为 Redis 带来了代码的简洁性和丰富多样的数据结构。**不过 Redis 内部实际上并不是只有一个主线程，它还有几个异步线程专门用来处理一些耗时的操作**。

<br>

## **1. Redis 为什么要懒惰删除（lazy free）？**
- **删除指令 del 会直接释放对象的内存**，大部分情况下，这个指令非常快，没有明显延迟。不过如果删除的 key 是一个非常大的对象，**比如一个包含了千万元素的 hash**，**那么删除操作就会导致```单线程卡顿```**。

- Redis 为了解决这个卡顿问题，在 4.0 版本引入了 ```unlink``` 指令，**它能对删除操作进行懒处理**，丢给后台线程来异步回收内存。
